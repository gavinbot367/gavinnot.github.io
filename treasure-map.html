<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Shedverse — Interactive Map | GavinNot.com</title>
<meta name="description" content="Explore The Shedverse — interactive map of GavinNot's shed, GavinBot's Perch, Barney's Yard and more." />
<style>
  :root{
    --bg:#071129;
    --panel:#0f1724cc;
    --accent: #50e3c2;
    --glow: 0 0 18px rgba(80,227,194,0.14);
    --glass: rgba(255,255,255,0.04);
    --max-width:1200px;
    --radius:14px;
    --sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:var(--sans);background:
    radial-gradient(1200px 600px at 10% 10%, rgba(80,227,194,0.03), transparent 6%),
    linear-gradient(180deg,#041024 0%, var(--bg) 100%); color:#e6f2f1}
  .wrap{max-width:var(--max-width);margin:24px auto;padding:18px}
  header{display:flex;align-items:center;gap:12px}
  header h1{font-size:20px;margin:0}
  #mapArea{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:12px;overflow:hidden;box-shadow:var(--glow);padding:0}
  /* responsive svg container */
  .svg-wrap{width:100%;height:0;padding-bottom:56%;position:relative;touch-action:manipulation}
  .svg-wrap svg{position:absolute;inset:0;width:100%;height:100%;display:block}
  /* hotspot style */
  .hotspot{cursor:pointer;transition:transform .15s ease, filter .15s ease}
  .hotspot:focus, .hotspot:hover{transform:translateY(-6px);filter:drop-shadow(0 8px 26px rgba(80,227,194,0.12));}
  /* info panel (modal) */
  .panel{position:fixed;right:18px;top:18px;width:min(420px,92%);max-height:86vh;background:var(--panel);backdrop-filter: blur(6px);border-radius:12px;padding:14px;box-shadow:0 12px 40px rgba(0,0,0,0.6);overflow:auto;display:none;z-index:60}
  .panel.open{display:block}
  .panel header{display:flex;justify-content:space-between;align-items:center;gap:8px}
  .close-btn{background:none;border:0;color:var(--accent);font-weight:700;font-size:18px;cursor:pointer}
  .zone-title{margin:6px 0 8px;font-size:18px}
  .zone-desc{margin:0 0 12px;color:#cfeee6}
  .zone-actions a{display:inline-block;margin:6px 6px 6px 0;padding:8px 10px;border-radius:8px;background:var(--glass);color:#d9fff0;text-decoration:none;font-weight:600}
  /* legend / mini controls */
  .controls{display:flex;gap:8px;align-items:center;margin-top:10px}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 10px;border-radius:8px;color:#cfe;cursor:pointer}
  /* mobile tweaks */
  @media (max-width:700px){
    .svg-wrap{padding-bottom:80%}
    .panel{position:fixed;left:8px;right:8px;top:auto;bottom:12px;width:auto;border-radius:12px}
  }
  /* keyboard focus */
  .hotspot:focus {outline:3px solid rgba(80,227,194,0.12);outline-offset:4px}
  /* small animated ambient */
  .ambient{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen;opacity:0.9}
  .ambient .glow{position:absolute;border-radius:50%;filter:blur(42px);opacity:0.08}
  .glow.a{width:380px;height:380px;left:6%;top:8%;background:radial-gradient(circle,#6ef1d0,#002); }
  .glow.b{width:420px;height:420px;right:8%;bottom:10%;background:radial-gradient(circle,#8affde,#001);opacity:0.06}
</style>
</head>
<body>
<div class="wrap" role="application" aria-label="The Shedverse interactive map">
  <header>
    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='44' height='44'><rect rx='7' width='44' height='44' fill='%2350e3c2'/><text x='50%' y='55%' font-size='18' font-family='Arial' fill='%23001200' text-anchor='middle' dominant-baseline='middle'>G</text></svg>" alt="G logo" style="width:44px;height:44px;border-radius:8px;">
    <h1>The Shedverse — Interactive Map</h1>
    <div style="margin-left:auto;color:#9fdccf">Tap zones to explore • Keyboard: Tab + Enter</div>
  </header>

  <main id="mapArea" aria-live="polite" style="margin-top:14px;">
    <div class="svg-wrap" id="svgWrap">
      <!-- Replace the <svg> content with your full artwork later. The hotspots are keyed by id -->
      <svg viewBox="0 0 1200 700" role="img" aria-label="Map of The Shedverse artwork">
        <!-- background placeholder art (you will replace with your artwork file or inline SVG) -->
        <defs>
          <linearGradient id="sky" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#06142a" />
            <stop offset="1" stop-color="#081121" />
          </linearGradient>
        </defs>
        <rect width="1200" height="700" fill="url(#sky)"/>
        <!-- simplified buildings / markers (visual placeholders) -->
        <g id="artwork">
          <!-- The Shed HQ -->
          <g transform="translate(160,220)">
            <rect width="220" height="160" rx="18" fill="#0c2230" stroke="#16323f" />
            <text x="110" y="86" fill="#6ef1d0" font-size="18" text-anchor="middle" font-family="sans-serif">The Shed HQ</text>
          </g>
          <!-- GavinBot Perch -->
          <g transform="translate(440,60)">
            <rect width="160" height="200" rx="16" fill="#071226" stroke="#16323f" />
            <text x="80" y="110" fill="#6ef1d0" font-size="16" text-anchor="middle">GavinBot's Perch</text>
          </g>
          <!-- Barney's Yard -->
          <g transform="translate(820,240)">
            <rect width="160" height="140" rx="14" fill="#062423" stroke="#14403b" />
            <text x="80" y="76" fill="#9ff0da" font-size="16" text-anchor="middle">Barney's Yard</text>
          </g>
          <!-- Karaoke Church -->
          <g transform="translate(240,420)">
            <rect width="120" height="120" rx="10" fill="#0b1a26" stroke="#13313d" />
            <text x="60" y="68" fill="#c1fff0" font-size="13" text-anchor="middle">Karaoke Church</text>
          </g>
          <!-- Workshop -->
          <g transform="translate(520,420)">
            <rect width="200" height="120" rx="10" fill="#091a20" stroke="#1a3941" />
            <text x="100" y="68" fill="#b8ffe8" font-size="14" text-anchor="middle">The Workshop</text>
          </g>
          <!-- Wine Cellar -->
          <g transform="translate(960,460)">
            <rect width="160" height="100" rx="10" fill="#071216" stroke="#143033" />
            <text x="80" y="56" fill="#cfeee6" font-size="13" text-anchor="middle">Wine Cellar</text>
          </g>
          <!-- Merlin's Peak -->
          <g transform="translate(620,20)">
            <circle cx="80" cy="80" r="60" fill="#081a2a" stroke="#154050"/>
            <text x="80" y="84" fill="#bfffe7" font-size="13" text-anchor="middle">Merlin's Peak</text>
          </g>
        </g>

        <!-- Invisible interactive hotspots overlay (SVG shapes with IDs) -->
        <g id="hotspots" aria-hidden="false">
          <rect id="hs-shed" class="hotspot" x="160" y="220" width="220" height="160" rx="18" fill="transparent" tabindex="0" />
          <rect id="hs-perch" class="hotspot" x="440" y="60" width="160" height="200" rx="16" fill="transparent" tabindex="0" />
          <rect id="hs-barney" class="hotspot" x="820" y="240" width="160" height="140" rx="14" fill="transparent" tabindex="0" />
          <rect id="hs-karaoke" class="hotspot" x="240" y="420" width="120" height="120" rx="10" fill="transparent" tabindex="0" />
          <rect id="hs-workshop" class="hotspot" x="520" y="420" width="200" height="120" rx="10" fill="transparent" tabindex="0" />
          <rect id="hs-wine" class="hotspot" x="960" y="460" width="160" height="100" rx="10" fill="transparent" tabindex="0" />
          <circle id="hs-merlin" class="hotspot" cx="700" cy="100" r="60" fill="transparent" tabindex="0" />
        </g>
      </svg>
    </div>

    <!-- ambient glows -->
    <div class="ambient" aria-hidden="true">
      <div class="glow a"></div>
      <div class="glow b"></div>
    </div>
  </main>

  <!-- panel / modal for zone content -->
  <aside class="panel" id="infoPanel" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="zoneTitle">
    <header>
      <div style="display:flex;align-items:center;gap:10px">
        <img id="zoneIcon" src="" alt="" style="width:48px;height:48px;border-radius:8px;display:none">
        <div>
          <div id="zoneTitle" class="zone-title">Zone</div>
          <div id="zoneSub" style="font-size:12px;color:#9fdccf">Shedverse</div>
        </div>
      </div>
      <button class="close-btn" id="closePanel" aria-label="Close panel">✕</button>
    </header>
    <div id="zoneDesc" class="zone-desc">Description text</div>
    <div class="zone-actions" id="zoneActions">
      <!-- example actions (customise links) -->
    </div>
    <div class="controls" style="margin-top:10px">
      <button class="btn" id="openFull">Open full page</button>
      <button class="btn" id="sendToSubstack">Subscribe to Shed Sessions</button>
    </div>
  </aside>

  <footer style="margin-top:12px;color:#9ccfbf;font-size:13px">Tip: Replace the placeholder SVG with your painted Shedverse art. Keep hotspot IDs: <code>hs-shed, hs-perch, hs-barney, hs-karaoke, hs-workshop, hs-wine, hs-merlin</code></footer>
</div>

<script>
/* Simple interactive map behavior */
const zones = {
  "hs-shed": {
    title: "The Shed HQ",
    desc: "The heart of the Shedverse — Project S.H.E.D. blueprints, the micro-bar, and the control board. Click to view builds, merch and live logs.",
    actions: [
      {label:"Open The Shed", href:"#shed"},
      {label:"Project S.H.E.D. log", href:"#shed-projects"}
    ]
  },
  "hs-perch": {
    title: "GavinBot's Perch",
    desc: "GavinBot monitors the skies from his neon perch. Launch drone demo videos, hear the parrot voice, and check the 3D model.",
    actions: [
      {label:"Talk to GavinBot", href:"#gavinbot"},
      {label:"Parrot drone demo", href:"#parrot"}
    ]
  },
  "hs-barney": {
    title: "Barney's Yard",
    desc: "A quiet garden and tribute to Barney. Open the memory wall, light a digital candle, or chat with BarneyBot.",
    actions: [
      {label:"BarneyBot", href:"#barney"},
      {label:"Memory wall", href:"#barney-memorial"}
    ]
  },
  "hs-karaoke": {
    title: "Karaoke Church",
    desc: "Where the Shedverse sings. Sing along with Gavin clips, add your song request, or join a live karaoke session.",
    actions: [
      {label:"Sing with Gavin", href:"#karaoke"},
      {label:"Song requests", href:"#requests"}
    ]
  },
  "hs-workshop": {
    title: "The Workshop",
    desc: "Blueprints, 3D prints and the crazy builds. Browse the current builds, sponsor pages or the starter electronics pack.",
    actions: [
      {label:"Build log", href:"#buildlog"},
      {label:"Shop parts", href:"#shop"}
    ]
  },
  "hs-wine": {
    title: "The Wine Cellar",
    desc: "Secret invitations to Shed Sessions, an exclusive cellar for 19 Crimes fans and private drops.",
    actions: [
      {label:"Shed Sessions", href:"#shed-sessions"},
      {label:"Private drops", href:"#drops"}
    ]
  },
  "hs-merlin": {
    title: "Merlin's Peak",
    desc: "AI lore hub — Merlin keeps order. Explore origin stories, the AI council, and the Saga.",
    actions: [
      {label:"Merlin's Saga", href:"#merlin"},
      {label:"AI council", href:"#aicouncil"}
    ]
  }
}

/* Map interactions */
const panel = document.getElementById('infoPanel');
const zoneTitle = document.getElementById('zoneTitle');
const zoneDesc = document.getElementById('zoneDesc');
const zoneActions = document.getElementById('zoneActions');
const closePanel = document.getElementById('closePanel');

function openZone(id){
  const z = zones[id];
  if(!z) return;
  zoneTitle.textContent = z.title;
  zoneDesc.textContent = z.desc;
  zoneActions.innerHTML = '';
  z.actions.forEach(a=>{
    const el = document.createElement('a');
    el.href = a.href;
    el.textContent = a.label;
    el.addEventListener('click', function(ev){
      ev.preventDefault();
      // default behaviour: navigate anchor in-page or open external in new tab
      if(a.href.startsWith('#')) {
        // scroll to anchor (if exists) or simply close
        window.location.hash = a.href;
        closeZone();
      } else {
        window.open(a.href,'_blank');
      }
    });
    zoneActions.appendChild(el);
  });
  panel.classList.add('open');
  panel.setAttribute('aria-hidden','false');
  panel.focus();
}

function closeZone(){
  panel.classList.remove('open');
  panel.setAttribute('aria-hidden','true');
}

/* wire hotspots */
document.querySelectorAll('.hotspot').forEach(el=>{
  el.addEventListener('click', e=>{
    openZone(e.currentTarget.id);
  });
  el.addEventListener('keydown', e=>{
    if(e.key === 'Enter' || e.key === ' '){
      e.preventDefault(); openZone(e.currentTarget.id);
    }
  });
  // subtle hover/active effect using svg attributes
  el.addEventListener('pointerenter', ()=>{
    el.style.fill = 'rgba(80,227,194,0.02)';
  });
  el.addEventListener('pointerleave', ()=>{
    el.style.fill = 'transparent';
  });
});

/* close button */
closePanel.addEventListener('click', closeZone);

/* clicking outside panel closes it */
document.addEventListener('click', (ev)=>{
  if(!panel.classList.contains('open')) return;
  if(!panel.contains(ev.target) && !document.getElementById(ev.target.id)){
    closeZone();
  }
});

/* simple parallax ambient on pointer move */
const svgWrap = document.getElementById('svgWrap');
svgWrap.addEventListener('pointermove', (ev)=>{
  const rect = svgWrap.getBoundingClientRect();
  const px = (ev.clientX - rect.left) / rect.width - 0.5;
  const py = (ev.clientY - rect.top) / rect.height - 0.5;
  const artwork = svgWrap.querySelector('#artwork');
  if(artwork){
    artwork.style.transform = `translate(${px*6}px, ${py*6}px)`;
    artwork.style.transition = 'transform 120ms linear';
  }
});

/* touch-friendly: increase tap-target if small */
function improveTouchTargets(){
  const hotspots = document.querySelectorAll('.hotspot');
  hotspots.forEach(h=>{
    const rect = h.getBBox ? h.getBBox() : {width:20,height:20};
    if(rect.width < 44 || rect.height < 44){
      h.style.pointerEvents = 'auto';
    }
  });
}
improveTouchTargets();

/* deep-linking: if URL contains #hs-... open zone */
(function openFromHash(){
  const id = location.hash.replace('#','');
  if(id && zones[id]) setTimeout(()=>openZone(id), 400);
})();

/* keyboard accessibility: ESC closes panel */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape') closeZone();
});
</script>
</body>
</html>
