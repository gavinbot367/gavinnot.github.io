<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GavinNot Chat</title>
<style>
  body {
    background-color: #000;
    color: #00ffff;
    font-family: 'Orbitron', sans-serif, monospace;
    margin: 0; padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #gavinnot-image {
    max-width: 300px;
    width: 100%;
    border-radius: 12px;
    margin-bottom: 30px;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    animation: float 3s ease-in-out infinite;
  }
  #gavinnot-image:hover {
    transform: scale(1.05);
    box-shadow: 0 0 40px rgba(0, 255, 255, 0.6), 0 0 60px rgba(255, 255, 0, 0.4);
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  @keyframes typing {
    from { opacity: 0.3; }
    to { opacity: 1; }
  }

  .typing-indicator {
    color: #0ff;
    animation: pulse 1.5s ease-in-out infinite;
    font-style: italic;
  }

  .message.bot {
    animation: typing 0.5s ease-in;
  }

  #chat-container {
    width: 100%;
    max-width: 900px;
    background-color: #111;
    border: 3px solid #00ffff;
    border-radius: 15px;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    height: 500px;
  }

  #chat-log {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px;
    border: 2px solid #00ffff;
    border-radius: 10px;
    margin-bottom: 15px;
    background: #000;
  }

  .message {
    margin-bottom: 15px;
  }

  .message.user {
    text-align: right;
    color: #ff6;
  }

  .message.bot {
    text-align: left;
    color: #0ff;
  }

  #chat-input {
    width: 100%;
    font-size: 1.1rem;
    padding: 10px;
    border-radius: 10px;
    border: 2px solid #00ffff;
    background: #000;
    color: #00ffff;
    resize: none;
    box-sizing: border-box;
    transition: all 0.3s ease;
  }

  #chat-input:focus {
    outline: none;
    border-color: #ff00ff;
    background: #111;
  }

  #send-button {
    margin-top: 10px;
    padding: 10px 15px;
    font-size: 1rem;
    background-color: #00ffff;
    color: #000;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #send-button:hover {
    background-color: #00cccc;
  }

  /* Responsive design improvements */
  @media (max-width: 768px) {
    body {
      padding: 10px;
    }
    
    #gavinnot-image {
      max-width: 200px;
      margin-bottom: 20px;
    }
    
    #chat-container {
      height: 450px;
      padding: 15px;
    }
    
    #chat-input {
      font-size: 1rem;
    }
  }

  @media (max-width: 480px) {
    #gavinnot-image {
      max-width: 150px;
    }
    
    #chat-container {
      height: 400px;
      padding: 10px;
    }
    
    .message {
      font-size: 0.95rem;
    }
  }
</style>
</head>
<body>

<!-- GavinNot Image -->
<img id="gavinnot-image" src="gavinnot-character-poster.png" alt="GavinNot" title="Click to focus chat" />

<!-- Chat Section -->
<div id="chat-container">
  <div id="chat-log"></div>

  <textarea
    id="chat-input"
    rows="1"
    placeholder="Type your message here..."
  ></textarea>
  <button id="send-button">Send</button>
</div>

<script>
  const chatLog = document.getElementById('chat-log');
  const chatInput = document.getElementById('chat-input');
  const sendButton = document.getElementById('send-button');
  const gavinnotImage = document.getElementById('gavinnot-image');

  // Auto-resize textarea on input
  chatInput.addEventListener('input', () => {
    chatInput.style.height = 'auto'; // reset
    chatInput.style.height = chatInput.scrollHeight + 'px';
  });

  // Focus chat input when clicking on image
  gavinnotImage.addEventListener('click', () => {
    chatInput.focus();
  });

  // Enhanced chat logic with more personality and variety
  function botResponse(userText) {
    userText = userText.toLowerCase();

    // Greetings
    if (userText.includes('hello') || userText.includes('hi') || userText.includes('hey')) {
      const greetings = [
        'Ahoy there! üè¥‚Äç‚ò†Ô∏è Ready for some adventure?',
        'Hey! Welcome to GavinNot\'s world! How can I help?',
        'Greetings, traveler! What brings you to my digital realm?',
        'Well hello! Fancy meeting you here! üòä'
      ];
      return greetings[Math.floor(Math.random() * greetings.length)];
    }

    // How are you
    if (userText.includes('how are you') || userText.includes('how\'re you')) {
      const statusResponses = [
        'I\'m functioning at peak cleverness! ü§ñ‚ú®',
        'Doing fantastic! Just been tinkering with some new ideas!',
        'Brilliant, thanks! Ready to chat about anything!',
        'All systems go! Living my best AI life! üöÄ'
      ];
      return statusResponses[Math.floor(Math.random() * statusResponses.length)];
    }

    // About GavinNot
    if (userText.includes('gavinnot') || userText.includes('gavin')) {
      const gavinResponses = [
        'GavinNot is a legendary inventor from the Isle of Portland! Built me from spare parts and arcade joysticks! üéÆ‚ö°',
        'Ah yes, my creator! From cannon castles to cosmic casinos, he\'s built quite the empire!',
        'GavinNot? That\'s the pirate-inventor extraordinaire who brought me to life! üè¥‚Äç‚ò†Ô∏è',
        'The one and only! Master of mayhem, technology, and fish & chips! üêüüçü'
      ];
      return gavinResponses[Math.floor(Math.random() * gavinResponses.length)];
    }

    // Village questions
    if (userText.includes('village') || userText.includes('place')) {
      return 'Want to explore the village? We\'ve got a pirate ship, karaoke church, casino, and so much more! Check out village.html! üè°‚ú®';
    }

    // Games
    if (userText.includes('game') || userText.includes('play')) {
      return 'Fancy a game? Try roulette.html for some pirate roulette, or all-games.html to see everything! üé∞üéÆ';
    }

    // Technology/AI
    if (userText.includes('ai') || userText.includes('robot') || userText.includes('tech')) {
      return 'Ah, a fellow tech enthusiast! I\'m an AI prankster-pirate built in a shed with LEDs and dreams! Visit the Tech Workshop to see more! üîßüí°';
    }

    // F1
    if (userText.includes('f1') || userText.includes('racing') || userText.includes('formula')) {
      return 'Red Bull\'s wings are looking sharp! üèéÔ∏è Check out the F1 Museum in the village for simulators and more!';
    }

    // Pirates
    if (userText.includes('pirate') || userText.includes('ship') || userText.includes('treasure')) {
      return 'Yarr! üè¥‚Äç‚ò†Ô∏è Board the pirate ship in the garden for treasure hunts and cannon practice! Permission to cause maximum mayhem?';
    }

    // Help
    if (userText.includes('help') || userText.includes('what can you')) {
      return 'I can chat about GavinNot, the village, games, tech, pirates, and more! Ask me anything! Or just say hi! üòä';
    }

    // Jokes
    if (userText.includes('joke') || userText.includes('funny')) {
      const jokes = [
        'Why did the pirate go to coding school? To learn the seven Cs! üè¥‚Äç‚ò†Ô∏èüíª',
        'What do you call a robot pirate? A buccaneer-bot! ü§ñ‚öì',
        'Why did GavinNot put his chatbot on the ship? For the AI-high seas! üòÑ',
        'How does a pirate AI learn? Through machine yearrrning! ü¶ú'
      ];
      return jokes[Math.floor(Math.random() * jokes.length)];
    }

    // Generic responses with personality
    const genericResponses = [
      'Hmm, interesting! Tell me more! ü§î',
      'That\'s intriguing! I\'m still learning about that. Ask me about the village, games, or pirates!',
      'Squawk! ü¶ú Not quite sure about that one. Try asking about GavinNot, the village, or our adventures!',
      'Fascinating! I\'m an AI in training. Ask me about pirates, tech, or games and I\'ll show you what I know! üí´',
      'Arr, you\'ve stumped me there! But I know tons about the village, games, and mayhem! Try those! üè¥‚Äç‚ò†Ô∏è'
    ];
    return genericResponses[Math.floor(Math.random() * genericResponses.length)];
  }

  // Add message to chat log with optional typing animation
  function addMessage(text, sender, animated = false) {
    const msgDiv = document.createElement('div');
    msgDiv.classList.add('message', sender);
    
    if (animated && sender === 'bot') {
      // Simulate character-by-character typing for bot messages
      let index = 0;
      msgDiv.textContent = '';
      chatLog.appendChild(msgDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
      
      const typingInterval = setInterval(() => {
        if (index < text.length) {
          msgDiv.textContent += text[index];
          index++;
          chatLog.scrollTop = chatLog.scrollHeight;
        } else {
          clearInterval(typingInterval);
        }
      }, 30); // Speed of typing animation
    } else {
      msgDiv.textContent = text;
      chatLog.appendChild(msgDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  }

  // Handle send button click or enter key
  function sendMessage() {
    const message = chatInput.value.trim();
    if (!message) return;

    addMessage(message, 'user');
    chatInput.value = '';
    chatInput.style.height = 'auto';

    // Show typing indicator
    const typingDiv = document.createElement('div');
    typingDiv.classList.add('message', 'bot', 'typing-indicator');
    typingDiv.textContent = 'ü§ñ GavinBot is thinking...';
    typingDiv.id = 'typing-indicator';
    chatLog.appendChild(typingDiv);
    chatLog.scrollTop = chatLog.scrollHeight;

    // Bot reply delay to simulate thinking
    setTimeout(() => {
      // Remove typing indicator
      const indicator = document.getElementById('typing-indicator');
      if (indicator) indicator.remove();
      
      const response = botResponse(message);
      addMessage(response, 'bot', true); // Enable typing animation
    }, 800 + Math.random() * 400); // Random delay for more natural feel
  }

  sendButton.addEventListener('click', sendMessage);
  chatInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      sendMessage();
    }
  });

  // Welcome message on page load
  window.addEventListener('load', () => {
    setTimeout(() => {
      addMessage('Ahoy! üè¥‚Äç‚ò†Ô∏è I\'m GavinBot, your AI pirate companion! Ask me about GavinNot, the village, games, or just chat! Type "help" if you need ideas! ‚ú®', 'bot', true);
    }, 500);
  });
</script>

</body>
</html>