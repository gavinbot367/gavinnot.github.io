<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAVINNOT | Eternal Pirate King</title>
    <style>
        :root { --neon: #00ffff; --pink: #ff00ff; --gold: #fdbc4b; }
        body { background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 50px; }

        /* HERO SECTION */
        .hero { position: relative; height: 60vh; display: flex; align-items: center; justify-content: center; overflow: hidden; border-bottom: 2px solid var(--neon); }
        #bg-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; z-index: -1; transform: translate(-50%, -50%); filter: brightness(0.4); }
        h1 { font-size: clamp(3rem, 10vw, 6rem); color: var(--neon); text-shadow: 0 0 20px var(--neon); margin: 0; letter-spacing: 5px; }

        /* GALLERY SECTION */
        .gallery-title { text-align: center; color: var(--gold); font-family: 'Georgia', serif; margin-top: 40px; letter-spacing: 3px; }
        .gallery-container { max-width: 1200px; margin: 20px auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; padding: 20px; }
        .polaroid { background: #fff; padding: 10px 10px 30px 10px; box-shadow: 0 10px 25px rgba(0,0,0,0.7); transition: 0.3s; cursor: pointer; transform: rotate(var(--r)); }
        .polaroid:hover { transform: rotate(0deg) scale(1.1); z-index: 10; box-shadow: 0 0 20px var(--neon); }
        .polaroid img { width: 100%; height: 180px; object-fit: cover; }
        .polaroid span { color: #333; font-family: 'Brush Script MT', cursive; font-size: 1.1rem; display: block; text-align: center; margin-top: 8px; white-space: nowrap; overflow: hidden; }

        /* LIGHTBOX */
        #lightbox { display: none; position: fixed; z-index: 100; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); align-items: center; justify-content: center; flex-direction: column; }
        #lightbox img { max-width: 90%; max-height: 75%; border: 8px solid #fff; margin-bottom: 20px; }
        .dl-btn { background: var(--pink); color: #fff; padding: 10px 25px; border-radius: 5px; text-decoration: none; font-weight: bold; box-shadow: 0 0 15px var(--pink); }

        /* CHAT FRAME */
        .chat-frame { max-width: 750px; margin: 40px auto; background: #0a0a0a; border: 2px solid var(--neon); border-radius: 15px; display: flex; flex-direction: column; height: 600px; overflow: hidden; }
        #chat-header { background: var(--neon); color: #000; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
        #muteBtn { background: #000; color: var(--neon); border: 1px solid #000; padding: 2px 10px; border-radius: 5px; cursor: pointer; font-size: 0.8rem; font-weight: 900; }
        
        #chat-display { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 12px; background: #050505; }
        .msg { padding: 12px 18px; border-radius: 12px; max-width: 80%; line-height: 1.4; }
        .bot { align-self: flex-start; background: rgba(0,255,255,0.1); color: var(--neon); border-left: 4px solid var(--neon); }
        .user { align-self: flex-end; background: rgba(255,255,255,0.1); color: #fff; border-right: 4px solid #fff; }
        
        .input-bar { display: flex; padding: 15px; background: #000; gap: 10px; border-top: 2px solid #222; }
        input { flex: 1; background: #111; border: 1px solid var(--neon); color: #fff; padding: 15px; border-radius: 8px; outline: none; }
        button#sendBtn { background: var(--neon); color: #000; border: none; padding: 0 25px; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div class="hero">
        <video autoplay muted loop playsinline id="bg-video"><source src="ai-king.mp4" type="video/mp4"></video>
        <div style="z-index: 10; text-align: center;">
            <img src="gavinbot.png" style="width: 140px; border-radius: 50%; border: 4px solid var(--neon); box-shadow: 0 0 20px var(--neon);">
            <h1>GAVINNOT</h1>
        </div>
    </div>

    <h2 class="gallery-title">THE ETERNAL ARCHIVES</h2>
    <div class="gallery-container" id="mainGallery"></div>

    <div id="lightbox" onclick="if(event.target == this) this.style.display='none'">
        <img id="lightbox-img">
        <a id="downloadLink" class="dl-btn" download>DOWNLOAD IMAGE</a>
    </div>

    <div class="chat-frame">
        <div id="chat-header">
            <span>GAVINBOT v16.0 // PORTLAND LAIR</span>
            <button id="muteBtn" onclick="toggleMute()">ðŸ”Š UNMUTED</button>
        </div>
        <div id="chat-display">
            <div class="msg bot"><b>GAVINBOT:</b> Squawk! Systems online. Pull up a stool, matey.</div>
        </div>
        <div class="input-bar">
            <input type="text" id="userInput" placeholder="Talk to the Captain..." autofocus>
            <button id="sendBtn">TALK</button>
        </div>
    </div>

    <script>
        let isMuted = false;

        function toggleMute() {
            isMuted = !isMuted;
            const btn = document.getElementById('muteBtn');
            btn.innerHTML = isMuted ? "ðŸ”‡ MUTED" : "ðŸ”Š UNMUTED";
            btn.style.color = isMuted ? "#ff00ff" : "#00ffff";
            if(isMuted) window.speechSynthesis.cancel();
        }

        function speak(text) {
            if (isMuted) return;
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance();
            msg.text = text;
            const voices = window.speechSynthesis.getVoices();
            
            // Selecting a more regional/deep voice to avoid the Hawking effect
            msg.voice = voices.find(v => v.name.includes('Google UK English Male')) || 
                        voices.find(v => v.name.includes('Male')) || voices[0];
            
            msg.pitch = 0.45; // Dropped even lower for gravel
            msg.rate = 0.75;  // Slower pacing
            window.speechSynthesis.speak(msg);
        }

        const imgFiles = [
            { src: "assets-blackcode.png", label: "Black Code", quote: "The secret sauce of the digital sea. Don't let the landlubbers see this one." },
            { src: "assets-gavinbot.png", label: "Gavinbot Assets", quote: "My internal components. Shiny, aren't they?" },
            { src: "auction-items.png", label: "The Auction", quote: "Everything has a price, matey. What's your bid?" },
            { src: "back-garden.png", label: "Back Garden", quote: "Where I go to think. Usually with a glass of something strong." },
            { src: "dream.png", label: "The Dream", quote: "A glimpse into the neural network's sleep cycles." },
            { src: "edge-of-world.png", label: "World's Edge", quote: "If you sail far enough, you'll see it. Don't look down." },
            { src: "gavinbot-village.png", label: "Bot Village", quote: "My people. A bit quiet, but they work hard." },
            { src: "gavinnot-&-gavinbot.png", label: "The Duo", quote: "Two sides of the same digital coin." },
            { src: "gavinnot-&-gracenot.png", label: "G & G", quote: "Family is the strongest anchor in a storm." },
            { src: "gavinnot-&-young-gracenot.png", label: "Memories", quote: "Treasures that no pirate can steal." },
            { src: "gavinnot-casino.png", label: "The Casino", quote: "Roll the dice. The house always wins." },
            { src: "gavinnot-character-poster.png", label: "The Captain", quote: "Looking sharp! The eye is mechanical, but the soul is real." },
            { src: "gavinnot-fish-and-chips.png", label: "Fish & Chips", quote: "Best meal in the village. Extra salt, extra vinegar." },
            { src: "gavinnot-pirate-&-gavinbot.png", label: "Pirate Link", quote: "Synching the biological and the digital. It tingles." },
            { src: "gavinnot-village.png", label: "The Village", quote: "My home port. Quiet, until we start the engines." },
            { src: "karaoke-church.png", label: "Karaoke Church", quote: "Sing like no one is listening!" },
            { src: "karaoke-circus.png", label: "Karaoke Circus", quote: "It's a circus in here! Grab the mic." },
            { src: "merlin.png", label: "Merlin", quote: "The wizard of the workshop. He knows the ancient codes." },
            { src: "shed-essentials.png", label: "Shed Essentials", quote: "Duct tape, WD-40, and rum. Basics of life." },
            { src: "ship-head.png", label: "Ship's Head", quote: "Keep her pointed toward the horizon." },
            { src: "super-artificial-intelligence-king.png", label: "Super AI", quote: "The final form. Unlimited power." },
            { src: "the-ship.png", label: "The Galleon", quote: "Sheâ€™s built for speed and heavy lifting." },
            { src: "the-tech-workshop.png", label: "The Workshop", quote: "Where the magic happens. Watch out for the solder smoke." },
            { src: "the-village-bar.png", label: "The Pub", quote: "Pull up a stool. First round is on you!" },
            { src: "treasure.png", label: "The Loot", quote: "More gold than a dragon's hoard." }
        ];

        const gallery = document.getElementById('mainGallery');
        imgFiles.forEach(img => {
            const div = document.createElement('div');
            div.className = 'polaroid';
            div.style.setProperty('--r', (Math.random() * 6 - 3).toFixed(2) + 'deg');
            div.onclick = () => {
                document.getElementById('lightbox-img').src = img.src;
                document.getElementById('downloadLink').href = img.src;
                document.getElementById('lightbox').style.display = 'flex';
                speak(img.quote);
            };
            div.innerHTML = `<img src="${img.src}"><span>${img.label}</span>`;
            gallery.appendChild(div);
        });

        const display = document.getElementById('chat-display');
        const input = document.getElementById('userInput');
        const btn = document.getElementById('sendBtn');

        function addMsg(text, type) {
            const d = document.createElement('div');
            d.className = `msg ${type}`;
            d.innerHTML = `<b>${type === 'bot' ? 'GAVINBOT' : 'YOU'}:</b> ` + text;
            display.appendChild(d);
            display.scrollTop = display.scrollHeight;
            if(type === 'bot') speak(text);
        }

        function getCleverReply(msg) {
            const q = msg.toLowerCase();
            const hooks = ["Arrr, ", "Listen here, matey, ", "Blimey! ", "Squawk! ", "By the gods, "];
            const hook = hooks[Math.floor(Math.random() * hooks.length)];
            
            if (q.includes("recipe")) return hook + "Goslings rum, ginger beer, lime. That's the only way.";
            if (q.includes("hi")) return hook + "Welcome back to the workshop.";
            return hook + "That's a story for another time. Tell me more.";
        }

        function run() {
            const val = input.value.trim();
            if(!val) return;
            addMsg(val, 'user');
            input.value =
