<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GavinBot Emergency Fix</title>
    <style>
        body { font-family: sans-serif; background: #0d47a1; color: white; padding: 20px; }
        #debug-status { background: red; padding: 10px; margin-bottom: 10px; text-align: center; font-weight: bold; }
        #chat-window { background: white; color: black; height: 300px; overflow-y: auto; padding: 15px; border-radius: 10px; margin-bottom: 10px; }
        .bot-txt { color: blue; margin-bottom: 10px; font-weight: bold; }
        .user-txt { color: green; margin-bottom: 10px; text-align: right; }
        input { width: 70%; padding: 10px; }
        button { width: 20%; padding: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <div id="debug-status">STATUS: SCRIPT NOT RUNNING (ERROR)</div>

    <div id="chat-window">
        <div class="bot-txt">GAVINBOT: Waiting for systems to stabilize...</div>
    </div>

    <input type="text" id="userIn" placeholder="Type 'hi' here...">
    <button id="sendBtn">SEND</button>

    <script>
        // 1. IMMEDIATELY check if script is alive
        document.getElementById('debug-status').style.background = "green";
        document.getElementById('debug-status').innerText = "STATUS: GAVINBOT ONLINE (V9.0)";

        const win = document.getElementById('chat-window');
        const inp = document.getElementById('userIn');
        const btn = document.getElementById('sendBtn');

        function doTalk() {
            const msg = inp.value.trim();
            if (!msg) return;

            // Add User Msg
            const u = document.createElement('div');
            u.className = "user-txt";
            u.innerText = "YOU: " + msg;
            win.appendChild(u);
            
            inp.value = ""; // Clear
            win.scrollTop = win.scrollHeight;

            // Simple Response
            setTimeout(() => {
                const b = document.createElement('div');
                b.className = "bot-txt";
                let reply = "I'm thinking... ask about F1 or the Auction!";
                
                if (msg.toLowerCase().includes("hi") || msg.toLowerCase().includes("hello")) {
                    reply = "Squawk! Ahoy there, matey!";
                }
                if (msg.toLowerCase().includes("tonight")) {
                    reply = "Tonight we are drinking 19 Crimes and fixing the F1 engine!";
                }

                b.innerText = "GAVINBOT: " + reply;
                win.appendChild(b);
                win.scrollTop = win.scrollHeight;
            }, 500);
        }

        // The "Enter" Key Fix
        inp.addEventListener("keydown", function(e) {
            if (e.key === "Enter") {
                e.preventDefault(); // STOP REFRESH
                doTalk();
            }
        });

        // The Button Fix
        btn.onclick = doTalk;

    </script>
</body>
</html>
