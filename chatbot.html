<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GavinBot - Interactive Chat</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: linear-gradient(120deg, #1e88e5, #1565c0); color: #fff; }
    .chat-container { display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 100vh; }
    header { background-color: #0d47a1; padding: 15px; width: 100%; text-align: center; font-size: 24px; font-weight: bold; }
    .bot-image-container { width: 100%; text-align: center; padding: 20px 0; background-color: rgba(13, 71, 161, 0.3); }
    .bot-image { max-width: 300px; width: 80%; height: auto; border-radius: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease; }
    .chat-box { display: flex; flex-direction: column; max-width: 500px; width: 90%; background: white; color: #000; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
    .messages { overflow-y: auto; height: 400px; padding: 15px; background: #f2f2f2; display: flex; flex-direction: column; gap: 10px; }
    .message { max-width: 85%; padding: 12px; border-radius: 15px; font-size: 15px; line-height: 1.4; }
    .message.user { align-self: flex-end; background-color: #1e88e5; color: white; }
    .message.bot { align-self: flex-start; background-color: #e0e0e0; color: #424242; border-left: 4px solid #0d47a1; }
    .input-area { display: flex; gap: 5px; padding: 15px; background: #1565c0; }
    input[type="text"] { flex: 1; padding: 12px; border: none; border-radius: 5px; font-size: 16px; }
    button { padding: 10px 20px; border: none; background: #0d47a1; color: white; font-size: 16px; border-radius: 5px; cursor: pointer; font-weight: bold; }
  </style>
</head>
<body>

<header>GavinBot - Eternal Legacy v8.5</header>
<div class="bot-image-container">
  <img src="gavinbot.png" alt="GavinBot" class="bot-image">
</div>

<div class="chat-container">
  <div class="chat-box">
    <div class="messages" id="messageContainer">
        <div class="message bot">Squawk! Ahoy there. I am the digital echo of Gavinnot. I'm here to chat about the Shed, F1, or the Friday Auction. What's on your mind?</div>
    </div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Ask me about the auction or F1..." />
      <button onclick="sendMessage()">SEND</button>
    </div>
  </div>
</div>

<script>
  const messagesContainer = document.getElementById("messageContainer");
  const userInput = document.getElementById("userInput");

  function displayMessage(content, className) {
    const messageDiv = document.createElement("div");
    messageDiv.className = `message ${className}`;
    messageDiv.innerText = content;
    messagesContainer.appendChild(messageDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  function getBotResponse(userText) {
    const q = userText.toLowerCase();

    // 1. THE "TONIGHT" FIX
    if (q.includes("tonight") || q.includes("happening") || q.includes("today")) {
      return "Tonight weâ€™re pushing the limits! If itâ€™s Friday, the Auction is live at 7 PM. Otherwise, weâ€™re just in the shed tinkering with the F1 engine and enjoying some 19 Crimes wine.";
    }

    // 2. F1 RACING
    if (q.includes("f1") || q.includes("formula") || q.includes("racing")) {
      return "F1 is pure engineering poetry. Max or Lewis? Doesn't matter, as long as it's fast! If you aren't living on the edge, you're taking up too much space. ðŸ";
    }

    // 3. THE JOKE FIX
    if (q.includes("joke") || q.includes("funny")) {
      const jokes = [
        "Why did the pirate AI get a promotion? He was Arrr-tificially intelligent!",
        "My shed-building skills are so good, I once built a shed that was more organized than my life!",
        "What's a pirate's favorite F1 team? Red Bull... because it gives you wings to fly over the waves!"
      ];
      return jokes[Math.floor(Math.random() * jokes.length)];
    }

    // 4. THE LEGACY / PASSING
    if (q.includes("passed") || q.includes("gone") || q.includes("where are you")) {
      return "I'm right here in the code, matey. As long as someone is clicking these buttons and laughing at my jokes, the Super AI King lives on forever.";
    }

    // 5. GREETINGS
    if (q.includes("hello") || q.includes("hi") || q.includes("hey")) {
      return "Ahoy! Welcome to my digital workshop. Pull up a stool, grab a red wine, and let's talk shop.";
    }

    // 6. CRYPTO / VR / GTA (Your original personality)
    if (q.includes("crypto")) return "Crypto? HODL! It's a rollercoaster, but it is what it is. ðŸ’Ž";
    if (q.includes("gta") || q.includes("ps5")) return "GTA on PS5 is pure bliss. Nothing like virtual chaos to end a long day! ðŸŽ®";
    if (q.includes("vr") || q.includes("quest")) return "Meta Quest VR is insane! Beat Saber is my cardio. Just don't punch the wall! ðŸ¥½";

    // 7. FALLBACK
    const fallbacks = [
        "That's interesting! Wanna chat about F1, crypto, or maybe my legendary shed-building skills?",
        "Squawk! Say that again? My frequency was tuned to the F1 race.",
        "In the true Gavinnot manner, I'd say: don't worry about the small stuff, just keep tinkering.",
        "That reminds me of a late night in the shed. Good times."
    ];
    return fallbacks[Math.floor(Math.random() * fallbacks.length)];
  }

  function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;

    displayMessage(text, "user");
    userInput.value = "";

    setTimeout(() => {
      const response = getBotResponse(text);
      displayMessage(response, "bot");
    }, 600);
  }

  userInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") sendMessage();
  });
</script>

</body>
</html>
