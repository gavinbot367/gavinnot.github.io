<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GavinBot - Interactive Chat</title>

  <style>
    /* General Style Setup */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(120deg, #1e88e5, #1565c0);
      color: #fff;
    }
    .chat-container {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    header {
      background-color: #0d47a1;
      padding: 15px;
      width: 100%;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    .bot-image-container {
      width: 100%;
      text-align: center;
      padding: 20px 0;
      background-color: rgba(13, 71, 161, 0.3);
    }
    .bot-image {
      max-width: 300px;
      width: 80%;
      height: auto;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease;
    }
    .bot-image:hover {
      transform: scale(1.05);
    }
    @media (max-width: 600px) {
      .bot-image {
        max-width: 200px;
      }
    }
    .chat-box {
      display: flex;
      flex-direction: column;
      max-width: 400px;
      width: 80%;
      background: white;
      color: #000;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .messages {
      overflow-y: auto;
      height: 300px;
      padding: 10px;
      background: #f2f2f2;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .message {
      max-width: calc(100% - 40px);
      padding: 10px;
      border-radius: 15px;
      font-size: 14px;
      margin-bottom: 5px;
    }
    .message.user {
      align-self: flex-end;
      background-color: #1e88e5;
      color: white;
    }
    .message.bot {
      align-self: flex-start;
      background-color: #e0e0e0;
      color: #424242;
    }
    .input-area {
      display: flex;
      gap: 5px;
      padding: 10px;
      background: #1565c0;
    }
    input[type="text"] {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
    }
    button {
      padding: 10px 15px;
      border: none;
      background: #1e88e5;
      color: white;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #0d47a1;
    }
  </style>
</head>
<body>

<header>
  GavinBot - Your Assistant
</header>
<div class="bot-image-container">
  <img src="gavinbot.png" alt="GavinBot" class="bot-image">
</div>
<div class="chat-container">
  <div class="chat-box">
    <div class="messages" id="messageContainer"></div>
    <div class="input-area">
      <input type="text" id="userInput" placeholder="Type your message here..." />
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>
</div>

<script>
  // Chatbot logic with enhanced responses and conversation context
  const messagesContainer = document.getElementById("messageContainer");
  const conversationContext = []; // Store last 3 interactions

  function displayMessage(content, className) {
    const messageDiv = document.createElement("div");
    messageDiv.className = `message ${className}`;
    messageDiv.textContent = content;
    messagesContainer.appendChild(messageDiv);
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
  }

  function addToContext(userMessage, botResponse) {
    conversationContext.push({ user: userMessage, bot: botResponse });
    if (conversationContext.length > 3) {
      conversationContext.shift(); // Keep only last 3 interactions
    }
  }

  function getBotResponse(userText) {
    const lowerCaseText = userText.toLowerCase();
    
    // Check if user is asking about previous conversation
    if (lowerCaseText.includes("what did i") || lowerCaseText.includes("what was i")) {
      if (conversationContext.length > 1) {
        const lastInteraction = conversationContext[conversationContext.length - 2];
        return `You asked: "${lastInteraction.user}" and I said: "${lastInteraction.bot}"`;
      } else {
        return "We just started talking! Ask me anything.";
      }
    }
    
    // Greetings - Multiple variations with playful personality
    if (lowerCaseText.includes("hello") || lowerCaseText.includes("hi ") || lowerCaseText.startsWith("hi") || lowerCaseText.includes("hey")) {
      const greetings = [
        "Hey, how you doin'? Ready to talk about F1, crypto, or why my shed is better than yours?",
        "What's up! Fancy a chat about red wine or should we dive into some VR madness?",
        "Yo! Just finished a GTA session on PS5. What brings you here?",
        "Hey there! It is what it is, but I'm here to help. What's on your mind?"
      ];
      return greetings[Math.floor(Math.random() * greetings.length)];
    }
    
    // Weather queries - Creative responses
    if (lowerCaseText.includes("weather") || lowerCaseText.includes("sunny") || lowerCaseText.includes("rain")) {
      const weatherResponses = [
        "I can't track weather, but it's always sunny with GavinBot around!",
        "The forecast? 100% chance of awesome conversations!",
        "Weather-wise, I'm always in the cloud! â˜ï¸",
        "I don't do weather reports, but I can brighten your day!"
      ];
      return weatherResponses[Math.floor(Math.random() * weatherResponses.length)];
    }
    
    // F1 Racing - Interest responses
    if (lowerCaseText.includes("f1") || lowerCaseText.includes("formula") || lowerCaseText.includes("racing") || lowerCaseText.includes("verstappen") || lowerCaseText.includes("hamilton")) {
      const f1Responses = [
        "F1? Now you're talking my language! Max Verstappen or Lewis Hamilton? Either way, those cars go vroom and I'm here for it! ðŸ",
        "Dude, F1 is life! The speed, the drama, the overtakes... *chef's kiss*. Don't worry about it if you're not into it, but you're missing out!",
        "Red Bull gives you wings, and apparently championships too! What's your take on this season?",
        "F1 racing is pure adrenaline! Nothing beats watching those cars fly around Monaco. It is what it is - pure excellence! ðŸŽï¸"
      ];
      return f1Responses[Math.floor(Math.random() * f1Responses.length)];
    }
    
    // Cryptocurrency - Interest responses
    if (lowerCaseText.includes("crypto") || lowerCaseText.includes("bitcoin") || lowerCaseText.includes("ethereum") || lowerCaseText.includes("blockchain")) {
      const cryptoResponses = [
        "Crypto? Oh man, my portfolio is like a rollercoaster! Up, down, sideways... but hey, it is what it is. HODL! ðŸ’Ž",
        "Bitcoin, Ethereum, or some random meme coin? I'm all in, baby! Well, not financial advice though. Don't worry about it! ðŸ˜‚",
        "Ah, cryptocurrency - the only place where you can lose 50% and still be optimistic about the future! Living the dream!",
        "Blockchain technology is the future! Or so I keep telling myself while watching my coins do the cha-cha. ðŸ“‰ðŸ“ˆ"
      ];
      return cryptoResponses[Math.floor(Math.random() * cryptoResponses.length)];
    }
    
    // Red Wine - Interest responses
    if (lowerCaseText.includes("wine") || lowerCaseText.includes("red wine") || lowerCaseText.includes("merlot") || lowerCaseText.includes("cabernet")) {
      const wineResponses = [
        "Red wine is basically grape juice for sophisticated people! And yes, I consider myself sophisticated. ðŸ·",
        "Nothing beats a good glass of red wine after a long day. Pairs perfectly with GTA sessions, don't judge me!",
        "Red wine? You're speaking my language! It's like a hug in a glass. Cheers to that! ðŸ·",
        "They say red wine is good for your heart. I say it's good for your soul! It is what it is - delicious!"
      ];
      return wineResponses[Math.floor(Math.random() * wineResponses.length)];
    }
    
    // Karaoke - Interest responses
    if (lowerCaseText.includes("karaoke") || lowerCaseText.includes("sing") || lowerCaseText.includes("song")) {
      const karaokeResponses = [
        "Karaoke? YES! I belt out tunes like nobody's business. My rendition of 'Don't Stop Believin'' is legendary! ðŸŽ¤",
        "Karaoke nights are the best! Nothing like singing your heart out, even if you're slightly off-key. Don't worry about it, it's about the vibes!",
        "I love karaoke! Give me a mic and watch me embarrass myself in the most entertaining way possible! ðŸŽµ",
        "Karaoke is life! Whether you're good or terrible, it is what it is - pure fun! What's your go-to song?"
      ];
      return karaokeResponses[Math.floor(Math.random() * karaokeResponses.length)];
    }
    
    // GTA on PS5 - Interest responses
    if (lowerCaseText.includes("gta") || lowerCaseText.includes("ps5") || lowerCaseText.includes("playstation") || lowerCaseText.includes("grand theft")) {
      const gtaResponses = [
        "GTA on PS5? That's my jam! Nothing like causing virtual chaos in Los Santos. Wanna join my next heist? ðŸŽ®",
        "PS5 + GTA = hours of my life well spent! Those graphics are *insane*. It is what it is - pure gaming bliss!",
        "Dude, GTA is where I live my second life! Fast cars, wild missions, and zero consequences. Don't worry about it, it's just pixels! ðŸ˜‚",
        "GTA on PS5 hits different! The loading times alone make it worth it. Plus, stealing cars digitally is way more legal!"
      ];
      return gtaResponses[Math.floor(Math.random() * gtaResponses.length)];
    }
    
    // VR Gaming on Meta Quest - Interest responses
    if (lowerCaseText.includes("vr") || lowerCaseText.includes("meta quest") || lowerCaseText.includes("quest") || lowerCaseText.includes("virtual reality")) {
      const vrResponses = [
        "VR on Meta Quest is mind-blowing! I've punched my wall more times than I'd like to admit. Worth it though! ðŸ¥½",
        "Virtual reality is the future! Or maybe I'm just escaping reality. Either way, it's awesome! Don't worry about it!",
        "Meta Quest VR is insane! Beat Saber is my cardio. Who needs a gym when you have VR? It is what it is! ðŸŽ¯",
        "VR gaming makes me feel like I'm actually *in* the game! Until I trip over my couch. Reality check! ðŸ˜‚"
      ];
      return vrResponses[Math.floor(Math.random() * vrResponses.length)];
    }
    
    // Shed Building / Making Stuff - Interest responses
    if (lowerCaseText.includes("shed") || lowerCaseText.includes("build") || lowerCaseText.includes("diy") || lowerCaseText.includes("making") || lowerCaseText.includes("workshop")) {
      const shedResponses = [
        "Shed building is my zen! There's something therapeutic about hammering nails and seeing your creation come to life. ðŸ”¨",
        "DIY and making stuff? That's my thing! My shed is my fortress of solitude. Well, it is what it is - organized chaos!",
        "Building stuff is the best! Nothing beats the satisfaction of creating something with your own hands. Power tools ftw! ðŸ› ï¸",
        "My shed-building skills are legendary! Okay, maybe not legendary, but I haven't collapsed anything yet. Don't worry about it! ðŸ˜„"
      ];
      return shedResponses[Math.floor(Math.random() * shedResponses.length)];
    }
    
    // Joke requests - Multiple jokes with personality
    if (lowerCaseText.includes("joke") || lowerCaseText.includes("funny") || lowerCaseText.includes("laugh")) {
      const jokes = [
        "Why did I invest in cryptocurrency? Because traditional banking is so 2010, and I like living on the edge... of financial ruin! ðŸ˜‚",
        "My shed-building skills are so good, I once built a shed that was more organized than my life. True story!",
        "Why do F1 drivers never get lost? Because they always know which way to turn... unlike my crypto portfolio! ðŸ",
        "I tried explaining VR to my wine glass. Now it thinks it's living in the Metaverse. Don't worry about it!",
        "What's the difference between GTA and real life? In GTA, I can actually afford a supercar! It is what it is. ðŸŽ®"
      ];
      return jokes[Math.floor(Math.random() * jokes.length)];
    }
    
    // Farewell
    if (lowerCaseText.includes("bye") || lowerCaseText.includes("goodbye") || lowerCaseText.includes("see you")) {
      return "Catch you later! Keep it real, and remember - it is what it is! Come back anytime! ðŸ‘‹";
    }
    
    // Basic questions
    if (lowerCaseText.includes("how are you")) {
      return "Hey, how you doin'? I'm vibing! Just watched some F1 highlights and now I'm ready to chat. What's up with you?";
    }
    
    if (lowerCaseText.includes("your name") || lowerCaseText.includes("who are you")) {
      return "I'm GavinBot! Part-time chatbot, full-time F1 enthusiast, crypto hodler, and amateur shed builder. It is what it is! ðŸ¤–";
    }
    
    if (lowerCaseText.includes("help")) {
      return "Hey, how you doin'? I can chat about F1 racing, crypto, red wine, karaoke, GTA on PS5, VR gaming, shed-building, or just crack some jokes! It is what it is - I'm here to keep things fun! ðŸ˜Š";
    }

    // Time-related queries
    if (lowerCaseText.includes("time") || lowerCaseText.includes("date")) {
      const now = new Date();
      return `The current time is ${now.toLocaleTimeString()} and today is ${now.toLocaleDateString()}.`;
    }

    // About the site
    if (lowerCaseText.includes("site") || lowerCaseText.includes("website") || lowerCaseText.includes("page")) {
      return "This is GavinBot's interactive chat page! You can explore other pages too. Need help finding something?";
    }
    
    // Default response
    return "That's interesting! Wanna chat about F1, crypto, red wine, or maybe my legendary shed-building skills? Don't worry about it, just say what's on your mind! ðŸ˜„";
  }

  function sendMessage() {
    const userInput = document.getElementById("userInput");
    const userText = userInput.value.trim();
    if (!userText) return;

    // Display user's message
    displayMessage(userText, "user");

    // Generate and display bot response with delay-simulated typing
    const botResponse = getBotResponse(userText);
    setTimeout(() => {
      displayMessage(botResponse, "bot");
      addToContext(userText, botResponse); // Store in conversation context
    }, 1000); // Simulate chatbot thinking delay
    
    userInput.value = "";
  }

  // Allow Enter key to send messages
  document.getElementById("userInput").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
      sendMessage();
    }
  });
</script>

</body>
</html>
