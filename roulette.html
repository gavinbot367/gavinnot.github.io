<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>‚ö° Pirate Neon Roulette | Gavinbot Lair</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="The most advanced, futuristic pirate roulette game ever. AI banter, powerups, unlocks, sound, stats, and more.">
  <link rel="icon" href="gavinbot.png">
  <style>
    html,body { margin:0; padding:0; height:100%; }
    body {
      min-height:100vh;
      background:linear-gradient(120deg,#160c28 0%,#232526 90%,#0ff 100%);
      color:#fff;
      font-family:'Orbitron','Trebuchet MS',Arial,sans-serif;
      display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
      transition:background 1s;
      overflow-x:hidden;
    }
    body.coinrain { animation:coinrain-bg 2s; }
    @keyframes coinrain-bg { 0%{background:#160c28;} 50%{background:#ffd700;} 100%{background:linear-gradient(120deg,#160c28 0%,#232526 90%,#0ff 100%);} }
    h1 {
      font-size:2.3em; margin-top:1.1em; margin-bottom:0.1em; letter-spacing:1px;
      text-shadow:0 0 18px #0ff,0 0 40px #19f7d2;
      user-select:none;
      font-family:'Orbitron',sans-serif;
    }
    .coins {
      color:#ffd700; font-size:1.12em; margin-bottom:1.1em; text-shadow:0 0 6px #0ff;
      font-family:Orbitron,sans-serif;
    }
    .roulette-board {
      margin:1.2em auto 0 auto;
      background:rgba(24,28,55,0.98);
      border:2.5px solid #19f7d2;
      border-radius:22px;
      box-shadow:0 0 32px #0ff,0 0 55px #19f7d2;
      padding:2em 1em 2.5em 1em;
      max-width:430px;
      width:96vw;
      position: relative;
      overflow:visible;
      transition:box-shadow .2s;
    }
    .dealer-avatar {
      width:70px;height:70px;
      border-radius:50%;
      background:linear-gradient(135deg,#0ff 30%,#232526 100%);
      border:3px solid #39ff14;
      box-shadow:0 0 22px #0ff,0 0 40px #0ff;
      display:flex;align-items:center;justify-content:center;
      font-size:2em;margin:0 auto 0.2em auto;transition:transform .4s,filter .4s;
      user-select:none;
    }
    .dealer-avatar.celebrate { transform:scale(1.13) rotate(-10deg);}
    .dealer-avatar.sad { filter:grayscale(.7) brightness(.8);}
    .dealer-avatar.angry { filter:contrast(1.5)  hue-rotate(200deg);}
    .dealer-avatar.unlock { border:3px solid #ffd700; background:linear-gradient(135deg,#ffe14b,#0ff 100%);}
    .dealer-name {
      font-size:1.1em; color:#39ff14; text-shadow:0 0 5px #0ff; margin-bottom:0.7em;
      font-family:'Orbitron',sans-serif; letter-spacing:.5px;
    }
    .banter {
      font-size:.98em; color:#39ff14; font-family:'Trebuchet MS',sans-serif;
      margin-bottom:1.2em; min-height:1.7em; text-shadow:0 0 5px #19f7d2; user-select:none;
    }
    .wheel-container {
      display:flex; flex-direction:column; align-items:center; margin-bottom:1.2em;
    }
    .wheel-pointer {
      position:absolute; top:-30px; left:50%; transform:translateX(-50%);
      font-size:2.2em; color:#ffd700;
      text-shadow:0 0 14px #ffd700, 0 0 36px #fff; z-index:3; user-select:none;
    }
    .wheel-bg {
      width:222px; height:222px; border-radius:50%; background:radial-gradient(circle,#0ff 0 20%,#222 80%);
      filter:blur(12px); position:absolute; left:50%; top:50%; z-index:0;
      transform:translate(-50%,-50%);
      opacity:.48;
    }
    .wheel {
      width:210px; height:210px; border:5px solid #0ff; border-radius:50%;
      background:#191b29; box-shadow:0 0 42px #0ff,0 0 110px #000;
      position:relative; margin-bottom:0.8em; transition:transform 2.7s cubic-bezier(.18,.65,0,1.01);
      display:flex;align-items:center;justify-content:center;z-index:2;overflow:visible;
    }
    .sector { position:absolute; left:50%; top:50%; width:100px; height:24px; transform-origin:left center; pointer-events:none;}
    .sector .lbl {
      font-size:1em; font-family:'Orbitron',monospace; color:#fff;
      text-shadow:0 0 6px #0ff,0 0 12px #0ff;
      letter-spacing:.5px; pointer-events:none; user-select:none;
    }
    .ball {
      position:absolute; width:24px; height:24px; background:radial-gradient(circle,#fff 60%,#19f7d2 90%);
      border-radius:50%; z-index:2; left:50%; top:50%; transform:translate(-50%,-102px); box-shadow:0 0 16px #fff,0 0 22px #0ff;
      transition:box-shadow .2s;
      pointer-events:none;
    }
    .bet-controls {
      margin-bottom:1em; display:flex; flex-wrap:wrap; justify-content:center; gap:13px;
    }
    .bet-controls input, .bet-controls select {
      padding:.45em .7em; border-radius:8px; border:1.5px solid #19f7d2;
      background:#101820; color:#0ff; font-family:'Orbitron',sans-serif; font-size:1em; margin:0 0.2em;
    }
    .bet-controls button {
      background:linear-gradient(135deg,#0ff 60%,#19f7d2 100%);
      color:#111; border:none; border-radius:10px; font-family:'Orbitron',sans-serif;
      font-size:1em; font-weight:700; padding:.7em 1.2em; margin:0 0.5em;
      box-shadow:0 0 12px #19f7d2,0 0 20px #0ff; cursor:pointer; outline:none;
      transition:background .15s, color .15s;
    }
    .bet-controls button:disabled { background:#1a2329; color:#777; box-shadow:none; cursor:not-allowed;}
    .powerups { margin:1em 0 .3em 0; display:flex; flex-wrap:wrap; justify-content:center; gap:11px;}
    .powerups button {
      background:linear-gradient(135deg,#ffe14b 60%,#0ff 100%);
      color:#181e33; border:none; border-radius:10px; font-family:'Orbitron',sans-serif;
      font-size:.95em; font-weight:700; padding:.5em 1.1em;
      box-shadow:0 0 12px #ffe14b,0 0 20px #0ff; cursor:pointer; outline:none;
      transition:background .15s, color .15s;
    }
    .powerups button:disabled { background:#112; color:#555; box-shadow:none;}
    .msg {
      font-size:1.09em; min-height:2.1em; margin:1em auto .2em; color:#ffd700;
      text-shadow:0 0 7px #0ff,0 0 15px #0ff; font-family:'Orbitron',sans-serif; letter-spacing:.1px; user-select:none;
    }
    .stats {
      color:#19f7d2; font-family:'Orbitron',sans-serif; font-size:.98em; opacity:.8; margin-top:1.1em;
    }
    .history {
      margin:1.6em 0 0 0; color:#aaa; font-size:.95em; font-family:'Orbitron',sans-serif;
    }
    .history .num {
      border-radius:7px; border:2px solid #0ff; padding:0.2em 0.7em; margin:0 0.2em;
      font-weight:bold; color:#fff; background:#232526; display:inline-block; min-width:30px;
    }
    .history .num.red { background:#e53935; color:#fff; border-color:#ffe14b;}
    .history .num.black { background:#111; border-color:#39ff14;}
    .history .num.green { background:#0ff; color:#111; border-color:#fff;}
    @media (max-width:540px) {
      .roulette-board { padding: 1em .3em 1.2em .3em;}
      .wheel { width: 150px; height: 150px;}
      .wheel-bg { width:152px; height:152px;}
      .dealer-avatar { width:50px;height:50px;font-size:1.3em;}
    }
  </style>
</head>
<body>
  <h1>‚ö° Pirate Neon Roulette</h1>
  <div class="coins">üí∞ Pieces of Eight: <span id="coins">500</span></div>
  <div class="roulette-board" id="rouletteBoard">
    <div class="dealer-avatar" id="dealerAvatar" title="AI Pirate Dealer">ü¶ú</div>
    <div class="dealer-name" id="dealerName">Captain Gavinbot</div>
    <div class="banter" id="banter">Welcome to the neon wheel, matey!</div>
    <div class="wheel-container">
      <div class="wheel-pointer">‚ñº</div>
      <div class="wheel-bg"></div>
      <div class="wheel" id="wheel">
        <div class="ball" id="ball"></div>
      </div>
    </div>
    <div class="powerups">
      <button id="parrotBtn" title="Lucky Parrot: Next win is doubled!">ü¶ú Lucky Parrot</button>
      <button id="eyeBtn" title="Pirate's Eye: See the next color!">ü¶æ Pirate's Eye</button>
    </div>
    <div class="bet-controls">
      <select id="betType">
        <option value="number">Number (35:1)</option>
        <option value="red">Red (1:1)</option>
        <option value="black">Black (1:1)</option>
        <option value="even">Even (1:1)</option>
        <option value="odd">Odd (1:1)</option>
        <option value="low">Low (1-18, 1:1)</option>
        <option value="high">High (19-36, 1:1)</option>
        <option value="zero">Zero (35:1)</option>
      </select>
      <input type="number" min="1" max="500" value="10" id="betAmount" />
      <input type="number" min="0" max="36" value="7" id="betNumber" style="width:60px;display:none;" />
      <button id="spinBtn">Spin</button>
    </div>
    <div class="msg" id="msg"></div>
    <div class="stats" id="stats"></div>
    <div class="history" id="history"></div>
  </div>
  <p style="margin:1.8em 0 0 0;text-align:center;"><a href="index.html" style="color:#0ff;">üè¥ Back to Main Site</a></p>
  <audio id="soundSpin" src="https://cdn.pixabay.com/audio/2022/07/26/audio_12bfa5f2e1.mp3"></audio>
  <audio id="soundWin" src="https://cdn.pixabay.com/audio/2022/07/26/audio_12db5c4e4a.mp3"></audio>
  <audio id="soundLose" src="https://cdn.pixabay.com/audio/2022/07/26/audio_12bcf7f5d1.mp3"></audio>
  <script>
    // --- Core Variables ---
    let coins = 500, spinning = false, rollHistory = [], nextWinDouble=false, parrotUsed=false, eyeUsed=false, unlockLevel=0;
    let stats = {wins:0, losses:0, streak:0, maxStreak:0};
    const banterLines = [
      "Place yer bets, neon buccaneer!",
      "Red or black, the cyber-waves decide.",
      "High stakes, high voltage!",
      "Lady Luck loves a bold pirate.",
      "Let Gavinbot guide yer hand‚Ä¶ or not.",
      "The wheel‚Äôs got neon fever tonight.",
      "Will ye walk away richer? Or swim with the sharks?",
      "Spin and win, or walk the plank!"
    ];
    const winLines = [
      "Fortune shines! You win! üè¥‚Äç‚ò†Ô∏è",
      "Neon coins for you, matey!",
      "The parrot squawks: Winner!",
      "You plundered the house! üéâ",
      "You cracked the code, neon pirate!"
    ];
    const loseLines = [
      "Ouch! The seas were rough. You lose.",
      "Dealer takes your coins. Try again?",
      "Not your spin, neon pirate.",
      "The wheel laughs... and takes your loot.",
      "Squawk! Try again, captain?"
    ];
    const gavinSquawk = [
      {text:"ü¶ú GAVINBOT SQUAWK: Coin rain bonus!", fx:()=>{ coinRain(); coins+=30; showMsg('Coin Rain! +30 coins!'); }},
      {text:"ü¶ú GAVINBOT SQUAWK: Next win gets double payout!", fx:()=>{ nextWinDouble=true; showMsg('Your next win pays double!'); }},
      {text:"ü¶ú GAVINBOT SQUAWK: Lucky Parrot ready!", fx:()=>{ parrotUsed=false; document.getElementById('parrotBtn').disabled=false; showMsg('Lucky Parrot powerup recharged!'); }},
      {text:"ü¶ú GAVINBOT SQUAWK: Neon streak badge unlocked!", fx:()=>{ unlockLevel = Math.max(unlockLevel, 1); showUnlock('üî• Neon Streak Unlocked!'); }},
      {text:"ü¶ú GAVINBOT SQUAWK: Pirate‚Äôs Eye vision recharged!", fx:()=>{ eyeUsed=false; document.getElementById('eyeBtn').disabled=false; showMsg('Pirate\'s Eye powerup recharged!'); }}
    ];
    const wheelNums = [
      {n:0, color:'green'},
      {n:32, color:'red'},{n:15, color:'black'},{n:19, color:'red'},{n:4,color:'black'},{n:21,color:'red'},{n:2,color:'black'},
      {n:25,color:'red'},{n:17,color:'black'},{n:34,color:'red'},{n:6,color:'black'},{n:27,color:'red'},{n:13,color:'black'},
      {n:36,color:'red'},{n:11,color:'black'},{n:30,color:'red'},{n:8,color:'black'},{n:23,color:'red'},{n:10,color:'black'},
      {n:5,color:'red'},{n:24,color:'black'},{n:16,color:'red'},{n:33,color:'black'},{n:1,color:'red'},{n:20,color:'black'},
      {n:14,color:'red'},{n:31,color:'black'},{n:9,color:'red'},{n:22,color:'black'},{n:18,color:'red'},{n:29,color:'black'},
      {n:7,color:'red'},{n:28,color:'black'},{n:12,color:'red'},{n:35,color:'black'},{n:3,color:'red'},{n:26,color:'black'}
    ];
    // --- Wheel Graphics ---
    function drawSectors(){
      const wheel=document.getElementById('wheel');
      if(document.querySelector('.sector')) return;
      let seg = 360/wheelNums.length;
      for(let i=0;i<wheelNums.length;i++){
        let d=document.createElement('div');
        d.className='sector';
        d.style.transform=`rotate(${i*seg-90}deg) translate(-50%,-50%)`;
        d.innerHTML=`<span class="lbl" style="color:${wheelNums[i].color==='red'?'#e53935':wheelNums[i].color==='black'?'#fff':'#0ff'}">${wheelNums[i].n}</span>`;
        wheel.appendChild(d);
      }
    }
    drawSectors();

    function showMsg(msg) { document.getElementById('msg').textContent = msg; }
    function randomBanter() { document.getElementById('banter').textContent = banterLines[Math.floor(Math.random()*banterLines.length)]; }
    function updateStats() {
      document.getElementById('coins').textContent = coins;
      document.getElementById('stats').textContent = `Wins: ${stats.wins} | Losses: ${stats.losses} | Streak: ${stats.streak} | Max Streak: ${stats.maxStreak}`;
      // Show last 9 results
      let h = rollHistory.slice(-9).map(r=>{
        let c = r.color;
        return `<span class="num ${c}">${r.n}</span>`;
      });
      document.getElementById('history').innerHTML = h.length ? "Recent: " + h.join("") : "";
      if(stats.streak>=7) { unlockLevel = Math.max(unlockLevel,2); showUnlock('üíé Pirate Legend Unlocked!'); }
    }
    function getBetType() {
      let type = document.getElementById('betType').value;
      let num = parseInt(document.getElementById('betNumber').value, 10);
      return {type,num};
    }
    document.getElementById('betType').onchange = function() {
      document.getElementById('betNumber').style.display = (this.value==='number') ? "inline-block" : "none";
    };

    // --- Powerups ---
    document.getElementById('parrotBtn').onclick = function() {
      if(parrotUsed) return;
      nextWinDouble = true;
      this.disabled = true; parrotUsed=true;
      showMsg("ü¶ú Lucky Parrot: Your next win pays double!");
    };
    document.getElementById('eyeBtn').onclick = function() {
      if(eyeUsed) return;
      let next = wheelNums[Math.floor(Math.random()*wheelNums.length)];
      this.disabled = true; eyeUsed=true;
      showMsg("ü¶æ Pirate's Eye: Next color is " + (next.color==='red'?'Red':'Black') + " (" + next.n + ")");
    };

    // --- Main Game Logic ---
    document.getElementById('spinBtn').onclick = async function() {
      if(spinning) return;
      let bet = parseInt(document.getElementById('betAmount').value,10);
      let {type,num} = getBetType();
      if(isNaN(bet)||bet<1||bet>coins) return showMsg("Invalid bet amount!");
      if(type==='number' && (isNaN(num)||num<0||num>36)) return showMsg("Pick a number 0-36!");
      coins -= bet;
      updateStats();
      spinning = true;
      showMsg("Spinning the wheel...");
      randomBanter();
      document.getElementById('dealerAvatar').textContent = "ü¶ú";
      document.getElementById('dealerAvatar').className = "dealer-avatar";
      document.getElementById('dealerName').textContent = unlockLevel===2?"Queen Neonbot":"Captain Gavinbot";
      // Gavinbot event?
      if(Math.random()<0.14) {
        let event = gavinSquawk[Math.floor(Math.random()*gavinSquawk.length)];
        showMsg(event.text);
        if(event.fx) event.fx();
      }
      // Spin Animation
      let resultIdx = Math.floor(Math.random()*wheelNums.length);
      let result = wheelNums[resultIdx];
      let spins = 7+Math.floor(Math.random()*3);
      let degPerNum = 360/wheelNums.length;
      let endAngle = 360*spins + (360-resultIdx*degPerNum/wheelNums.length);
      let wheel = document.getElementById('wheel');
      let ball = document.getElementById('ball');
      ball.style.transition = "transform 2.5s cubic-bezier(.23,.69,.46,1.08)";
      ball.style.transform = `translate(-50%,-102px) rotate(${360*spins+resultIdx*degPerNum}deg)`;
      wheel.style.transform = `rotate(${endAngle}deg)`;
      document.getElementById('soundSpin').currentTime=0;document.getElementById('soundSpin').play();
      await new Promise(r=>setTimeout(r,2400));
      wheel.style.transform = '';
      ball.style.transition = ""; ball.style.transform = "translate(-50%,-102px)";
      // Pay results
      let win = false, payout = 0;
      if(type==='number' && result.n === num) { win = true; payout = bet*35; }
      else if(type==='zero' && result.n === 0) { win = true; payout = bet*35; }
      else if(type==='red' && result.color==='red') { win = true; payout = bet; }
      else if(type==='black' && result.color==='black') { win = true; payout = bet; }
      else if(type==='even' && result.n!==0 && result.n%2===0) { win = true; payout = bet; }
      else if(type==='odd' && result.n!==0 && result.n%2===1) { win = true; payout = bet; }
      else if(type==='low' && result.n>=1 && result.n<=18) { win = true; payout = bet; }
      else if(type==='high' && result.n>=19 && result.n<=36) { win = true; payout = bet; }
      // Update stats
      rollHistory.push(result);
      if(win) {
        let totalPayout = payout;
        if(nextWinDouble) { totalPayout *= 2; showMsg("Double payout!"); nextWinDouble=false; }
        coins += bet + totalPayout;
        stats.wins++; stats.streak++;
        if(stats.streak>stats.maxStreak) stats.maxStreak=stats.streak;
        showMsg(winLines[Math.floor(Math.random()*winLines.length)] + ` (+${totalPayout} coins)`);
        document.getElementById('dealerAvatar').textContent = "üòé";
        document.getElementById('dealerAvatar').classList.add('celebrate');
        document.getElementById('soundWin').currentTime=0;document.getElementById('soundWin').play();
        if(stats.streak===3) { unlockLevel = Math.max(unlockLevel,1); showUnlock('üî• Neon Streak Unlocked!'); }
        if(stats.streak===6) { unlockLevel = Math.max(unlockLevel,2); showUnlock('üíé Pirate Legend Unlocked!'); }
      } else {
        stats.losses++; stats.streak=0;
        showMsg(loseLines[Math.floor(Math.random()*loseLines.length)]);
        document.getElementById('dealerAvatar').textContent = "üò†";
        document.getElementById('dealerAvatar').classList.add('angry');
        document.getElementById('soundLose').currentTime=0;document.getElementById('soundLose').play();
      }
      updateStats();
      spinning = false;
    };
    function showUnlock(txt) {
      let b = document.createElement('div');
      b.className = 'unlock-badge'; b.textContent = txt;
      document.getElementById('rouletteBoard').appendChild(b);
      document.getElementById('dealerAvatar').classList.add('unlock');
      document.getElementById('rouletteBoard').classList.add('bg-unlock');
      setTimeout(()=>{b.remove();document.getElementById('dealerAvatar').classList.remove('unlock');document.getElementById('rouletteBoard').classList.remove('bg-unlock');},2600);
    }
    function coinRain() {
      document.body.classList.add('coinrain');
      let rain = document.createElement('div'); rain.className='coinrain-anim';
      for(let i=0;i<19;i++) {
        let c=document.createElement('div');
        c.className='coin'; c.style.left = (Math.random()*95)+'vw';
        c.style.animationDelay=(Math.random()*1.3)+'s';
        c.textContent='ü™ô';
        rain.appendChild(c);
      }
      document.body.appendChild(rain);
      setTimeout(()=>{rain.remove();document.body.classList.remove('coinrain');},1900);
    }
    // Enter key play
    document.getElementById('betAmount').onkeydown = function(e){ if(e.key==="Enter") document.getElementById('spinBtn').click(); };
    document.getElementById('betNumber').onkeydown = function(e){ if(e.key==="Enter") document.getElementById('spinBtn').click(); };
    // Init UI
    updateStats();
  </script>
</body>
</html>
