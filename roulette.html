<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pirate Neon Roulette | Gavinbot Lair</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="Futuristic pirate roulette game with SVG graphics, animation, and pirate banter.">
  <link rel="icon" href="gavinbot.png">
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(120deg,#0a1b2a 0%,#232526 100%);
      color: #fff;
      font-family: 'Orbitron', 'Trebuchet MS', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin-top: 1.5em;
      font-size: 2.3em;
      text-shadow: 0 0 20px #0ff, 0 0 60px #19f7d2;
    }
    .coins {
      color: #ffd700;
      font-size: 1.18em;
      margin-bottom: 1.2em;
      text-shadow: 0 0 6px #0ff;
      font-family: Orbitron, sans-serif;
    }
    .roulette-board {
      margin: 1.3em auto 0 auto;
      background: rgba(24,28,55,0.96);
      border: 2.5px solid #19f7d2;
      border-radius: 22px;
      box-shadow: 0 0 32px #0ff, 0 0 55px #19f7d2;
      padding: 2.2em 1em 2em 1em;
      max-width: 450px;
      width: 95vw;
      position: relative;
    }
    .banter {
      font-size: 1em;
      color: #39ff14;
      font-family: 'Trebuchet MS',sans-serif;
      margin-bottom: 1.2em;
      min-height: 1.7em;
      text-shadow: 0 0 5px #19f7d2;
      text-align: center;
    }
    .svg-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 1.6em;
      position: relative;
    }
    .wheel-pointer {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2.4em;
      color: #ffd700;
      text-shadow: 0 0 16px #ffd700, 0 0 32px #fff;
      z-index: 3;
      user-select: none;
      pointer-events: none;
    }
    .bet-controls {
      margin-bottom: 1.2em;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 14px;
    }
    .bet-controls input, .bet-controls select {
      padding: 0.45em 0.7em;
      border-radius: 8px;
      border: 1.5px solid #19f7d2;
      background: #101820;
      color: #0ff;
      font-family: 'Orbitron',sans-serif;
      font-size: 1em;
      margin: 0 0.2em;
    }
    .bet-controls button {
      background: linear-gradient(135deg, #0ff 60%, #19f7d2 100%);
      color: #111;
      border: none;
      border-radius: 10px;
      font-family: 'Orbitron', sans-serif;
      font-size: 1em;
      font-weight: 700;
      padding: 0.7em 1.2em;
      margin: 0 0.5em;
      box-shadow: 0 0 12px #19f7d2, 0 0 20px #0ff;
      cursor: pointer;
      outline: none;
      transition: background .15s, color .15s;
    }
    .bet-controls button:disabled { background: #1a2329; color: #777; box-shadow:none; cursor:not-allowed;}
    .msg {
      font-size: 1.1em;
      min-height: 2.1em;
      margin: 1em auto .3em;
      color: #ffd700;
      text-shadow: 0 0 7px #0ff,0 0 15px #0ff;
      font-family:'Orbitron',sans-serif;
      letter-spacing:.1px; user-select:none;
      text-align: center;
    }
    .stats {
      color: #19f7d2;
      font-family: 'Orbitron',sans-serif;
      font-size: .98em;
      opacity: .8;
      margin-top: 1.1em;
      text-align: center;
    }
    .history {
      margin: 1.6em 0 0 0;
      color: #aaa;
      font-size: .95em;
      font-family: 'Orbitron',sans-serif;
      text-align: center;
    }
    .history .num {
      border-radius: 6px;
      border: 1.5px solid #0ff;
      padding: 0.2em 0.7em;
      margin: 0 0.2em;
      font-weight: bold;
      color: #fff;
      background: #232526;
      display: inline-block;
      min-width: 28px;
    }
    .history .num.red { background: #e53935; color: #fff; border-color: #ffe14b;}
    .history .num.black { background: #111; border-color: #39ff14;}
    .history .num.green { background: #0ff; color: #111; border-color: #fff;}
    @media (max-width: 520px) {
      .roulette-board { padding: 1em .3em 1.2em .3em;}
      .svg-container { margin-bottom: 1.1em;}
    }
  </style>
</head>
<body>
  <h1>‚ö° Pirate Neon Roulette</h1>
  <div class="coins">üí∞ Pieces of Eight: <span id="coins">500</span></div>
  <div class="roulette-board">
    <div class="banter" id="banter">Welcome to the neon wheel, matey!</div>
    <div class="svg-container">
      <div class="wheel-pointer">‚ñº</div>
      <svg id="rouletteSVG" width="270" height="270" viewBox="0 0 270 270"></svg>
      <svg id="ballSVG" width="270" height="270" style="position:absolute;top:0;left:0;pointer-events:none;"></svg>
    </div>
    <div class="bet-controls">
      <select id="betType">
        <option value="number">Number (35:1)</option>
        <option value="red">Red (1:1)</option>
        <option value="black">Black (1:1)</option>
        <option value="even">Even (1:1)</option>
        <option value="odd">Odd (1:1)</option>
        <option value="low">Low (1-18, 1:1)</option>
        <option value="high">High (19-36, 1:1)</option>
        <option value="zero">Zero (35:1)</option>
      </select>
      <input type="number" min="1" max="500" value="10" id="betAmount" />
      <input type="number" min="0" max="36" value="7" id="betNumber" style="width:60px;display:none;" />
      <button id="spinBtn">Spin</button>
    </div>
    <div class="msg" id="msg"></div>
    <div class="stats" id="stats"></div>
    <div class="history" id="history"></div>
  </div>
  <p style="margin:1.5em 0 0 0;text-align:center;"><a href="index.html" style="color:#0ff;">üè¥ Back to Main Site</a></p>
  <script>
    // --- Wheel Data ---
    const wheelNums = [
      {n:0, color:'green'},
      {n:32, color:'red'},{n:15, color:'black'},{n:19, color:'red'},{n:4,color:'black'},{n:21,color:'red'},{n:2,color:'black'},
      {n:25,color:'red'},{n:17,color:'black'},{n:34,color:'red'},{n:6,color:'black'},{n:27,color:'red'},{n:13,color:'black'},
      {n:36,color:'red'},{n:11,color:'black'},{n:30,color:'red'},{n:8,color:'black'},{n:23,color:'red'},{n:10,color:'black'},
      {n:5,color:'red'},{n:24,color:'black'},{n:16,color:'red'},{n:33,color:'black'},{n:1,color:'red'},{n:20,color:'black'},
      {n:14,color:'red'},{n:31,color:'black'},{n:9,color:'red'},{n:22,color:'black'},{n:18,color:'red'},{n:29,color:'black'},
      {n:7,color:'red'},{n:28,color:'black'},{n:12,color:'red'},{n:35,color:'black'},{n:3,color:'red'},{n:26,color:'black'}
    ];
    let coins = 500, spinning = false, rollHistory = [];
    let stats = {wins:0, losses:0, streak:0, maxStreak:0};
    const banterLines = [
      "Place yer bets, neon buccaneer!",
      "Red or black, the cyber-waves decide.",
      "High stakes, high voltage!",
      "Lady Luck loves a bold pirate.",
      "Let Gavinbot guide yer hand‚Ä¶ or not.",
      "The wheel‚Äôs got neon fever tonight.",
      "Will ye walk away richer? Or swim with the sharks?",
      "Spin and win, or walk the plank!"
    ];
    const winLines = [
      "Fortune shines! You win! üè¥‚Äç‚ò†Ô∏è",
      "Neon coins for you, matey!",
      "The parrot squawks: Winner!",
      "You plundered the house! üéâ",
      "You cracked the code, neon pirate!"
    ];
    const loseLines = [
      "Ouch! The seas were rough. You lose.",
      "Dealer takes your coins. Try again?",
      "Not your spin, neon pirate.",
      "The wheel laughs... and takes your loot.",
      "Squawk! Try again, captain?"
    ];

    // --- SVG Drawing ---
    function drawWheel() {
      const svg = document.getElementById('rouletteSVG');
      svg.innerHTML = '';
      const cx = 135, cy = 135, R = 110, r = 80;
      const seg = 360/wheelNums.length;
      for(let i=0;i<wheelNums.length;i++) {
        const start = (i*seg-90)*Math.PI/180;
        const end = ((i+1)*seg-90)*Math.PI/180;
        // outer arc
        const x1 = cx + R*Math.cos(start), y1 = cy + R*Math.sin(start);
        const x2 = cx + R*Math.cos(end), y2 = cy + R*Math.sin(end);
        // inner arc
        const x3 = cx + r*Math.cos(end), y3 = cy + r*Math.sin(end);
        const x4 = cx + r*Math.cos(start), y4 = cy + r*Math.sin(start);
        const color = wheelNums[i].color === "red" ? "#e53935" : (wheelNums[i].color === "black" ? "#191a1a" : "#0ff");
        svg.innerHTML += `
          <path d="M${x1},${y1} A${R},${R} 0 0,1 ${x2},${y2} L${x3},${y3}
          A${r},${r} 0 0,0 ${x4},${y4} Z"
          fill="${color}" stroke="#0ff" stroke-width="1.7"/>
        `;
        // label number
        const angle = (i+0.5)*seg-90;
        const lx = cx + 95 * Math.cos(angle*Math.PI/180);
        const ly = cy + 95 * Math.sin(angle*Math.PI/180) + 5;
        svg.innerHTML += `<text x="${lx}" y="${ly}" text-anchor="middle" alignment-baseline="middle"
          font-size="1em" font-family="Orbitron,monospace" 
          fill="${wheelNums[i].color === 'red' ? '#ffe14b' : (wheelNums[i].color === 'black' ? '#fff' : '#181b1c')}"
          style="text-shadow:0 0 4px #0ff;">${wheelNums[i].n}</text>`;
      }
      // neon center
      svg.innerHTML += `<circle cx="${cx}" cy="${cy}" r="55" fill="#1c1c2b" stroke="#0ff" stroke-width="2" filter="url(#glow)"/>`;
      svg.innerHTML += `<circle cx="${cx}" cy="${cy}" r="26" fill="#232526" stroke="#ffd700" stroke-width="3"/>`;
      svg.innerHTML += `<defs><filter id="glow" height="200%" width="200%" x="-50%" y="-50%"><feGaussianBlur stdDeviation="4" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs>`;
    }
    // Ball rendering
    function drawBall(angle) {
      const svg = document.getElementById('ballSVG');
      svg.innerHTML = '';
      const r = 105, cx = 135, cy = 135;
      const rad = (angle-90)*Math.PI/180;
      const bx = cx + r*Math.cos(rad), by = cy + r*Math.sin(rad);
      svg.innerHTML = `<circle cx="${bx}" cy="${by}" r="12" fill="url(#ballgrad)" filter="url(#ballshadow)"/>
        <defs>
          <radialGradient id="ballgrad"><stop offset="60%" stop-color="#fff"/><stop offset="100%" stop-color="#19f7d2"/></radialGradient>
          <filter id="ballshadow" x="-30%" y="-30%" width="160%" height="160%"><feDropShadow dx="0" dy="2" stdDeviation="2" flood-color="#fff" flood-opacity="0.8"/></filter>
        </defs>`;
    }

    // --- Game Logic ---
    function showMsg(msg) { document.getElementById('msg').textContent = msg; }
    function randomBanter() { document.getElementById('banter').textContent = banterLines[Math.floor(Math.random()*banterLines.length)]; }
    function updateStats() {
      document.getElementById('coins').textContent = coins;
      document.getElementById('stats').textContent = `Wins: ${stats.wins} | Losses: ${stats.losses} | Streak: ${stats.streak} | Max Streak: ${stats.maxStreak}`;
      // Show last 9 results
      let h = rollHistory.slice(-9).map(r=>{
        let c = r.color;
        return `<span class="num ${c}">${r.n}</span>`;
      });
      document.getElementById('history').innerHTML = h.length ? "Recent: " + h.join("") : "";
    }
    function getBetType() {
      let type = document.getElementById('betType').value;
      let num = parseInt(document.getElementById('betNumber').value, 10);
      return {type,num};
    }
    document.getElementById('betType').onchange = function() {
      document.getElementById('betNumber').style.display = (this.value==='number') ? "inline-block" : "none";
    };

    // --- Main Spin ---
    document.getElementById('spinBtn').onclick = async function() {
      if(spinning) return;
      let bet = parseInt(document.getElementById('betAmount').value,10);
      let {type,num} = getBetType();
      if(isNaN(bet)||bet<1||bet>coins) return showMsg("Invalid bet amount!");
      if(type==='number' && (isNaN(num)||num<0||num>36)) return showMsg("Pick a number 0-36!");
      coins -= bet;
      updateStats();
      spinning = true;
      showMsg("Spinning the wheel...");
      randomBanter();

      // Animate spin
      let resultIdx = Math.floor(Math.random()*wheelNums.length);
      let result = wheelNums[resultIdx];
      let spins = 6+Math.floor(Math.random()*3);
      let seg = 360/wheelNums.length;
      let endAngle = 360*spins + (resultIdx*seg + seg/2); // aim for center of segment
      let ballAngle = 0;
      // Animate
      for(let t=0;t<=1.02;t+=0.02) {
        let ease = 1-Math.pow(1-t,2.5); // decelerate
        let a = (360*spins)* (1-ease) + (resultIdx*seg + seg/2)*ease;
        drawBall(a%360);
        await new Promise(r=>setTimeout(r,12));
      }
      drawBall((resultIdx*seg+seg/2)%360);

      // Result
      let win = false, payout = 0;
      if(type==='number' && result.n === num) { win = true; payout = bet*35; }
      else if(type==='zero' && result.n === 0) { win = true; payout = bet*35; }
      else if(type==='red' && result.color==='red') { win = true; payout = bet; }
      else if(type==='black' && result.color==='black') { win = true; payout = bet; }
      else if(type==='even' && result.n!==0 && result.n%2===0) { win = true; payout = bet; }
      else if(type==='odd' && result.n!==0 && result.n%2===1) { win = true; payout = bet; }
      else if(type==='low' && result.n>=1 && result.n<=18) { win = true; payout = bet; }
      else if(type==='high' && result.n>=19 && result.n<=36) { win = true; payout = bet; }

      rollHistory.push(result);
      if(win) {
        coins += bet + payout;
        stats.wins++; stats.streak++;
        if(stats.streak>stats.maxStreak) stats.maxStreak=stats.streak;
        showMsg(winLines[Math.floor(Math.random()*winLines.length)] + ` (+${payout} coins)`);
      } else {
        stats.losses++; stats.streak=0;
        showMsg(loseLines[Math.floor(Math.random()*loseLines.length)]);
      }
      updateStats();
      spinning = false;
    };

    // Enter key play
    document.getElementById('betAmount').onkeydown = function(e){ if(e.key==="Enter") document.getElementById('spinBtn').click(); };
    document.getElementById('betNumber').onkeydown = function(e){ if(e.key==="Enter") document.getElementById('spinBtn').click(); };

    // --- Init ---
    drawWheel();
    drawBall(0);
    updateStats();
  </script>
</body>
</html>
